@inherits UmbracoViewPage<IPublishedContent>
@{
    Layout = "Master.cshtml";
	var selection = Model.Descendants().Where( x => x.IsVisible());

	var cover = new CoverViewModel {
		ImageId = Model.GetPropertyValue<int>("coverImage"),
		Headline = Model.HasValue("coverHeadline") ? Model.GetPropertyValue<string>("coverHeadline") : Model.Name,
		Copy = Model.GetPropertyValue<IHtmlString>("coverCopy")
	};
}

<main id="main" class="o-page__content" role="main">
	@Html.Partial("~/Views/Partials/Components/Cover.cshtml", cover)
	@if( selection.Any() ) {
		<div class="o-grid--span-two u-clearfix">
			@foreach( var item in selection ) {
				var tileData = new TileViewModel {
					Url = item.Url,
					Headline = item.Name,
					ImageId = 1106,
					ModifierClass = "o-grid__item"
				};
				@Html.Partial("~/Views/Partials/Components/Tile.cshtml", tileData)
			}
		</div>
	}
</main>
